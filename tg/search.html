<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search</title>
  <link rel="stylesheet" href="support/styles.css">
  <script src="support/overview.js"></script>
</head>
<body>
  <div class="header-links">
    <button onclick="window.location.href='index.html'" id="tocLink" class="toc-link">Table of Contents</button>
    <div class="language-toggle">
      <button id="langEn" class="active" onclick="setLanguage('en')">English</button>
      <button id="langKo" onclick="setLanguage('ko')">한국어</button>
    </div>
  </div>
  
  <h1>Search</h1>
  
  <div class="search-container">
    <input type="text" id="searchBox" placeholder="Enter search term..." class="">
    <button id="searchButton" class="search-button">Search</button>
    
    <div class="search-options-container">
      <div class="advanced-search-toggle" onclick="toggleAdvancedSearch()">Advanced Search Options ▼</div>
      
      <div class="translation-toggle-container">
        <label class="switch">
          <input type="checkbox" id="translation-toggle">
          <span class="slider round"></span>
        </label>
        <span class="toggle-label">Search/Link English Translations</span>
      </div>
    </div>

    <div id="advancedSearch" class="advanced-search hidden">
      <div class="filters">
        <div class="filter-row">
          <div class="filter-field">
            <label for="titleFilter" id="titleFilterLabel">Title:</label>
            <input type="text" id="titleFilter" placeholder="Search in titles...">
          </div>
          
          <div class="filter-field">
            <label for="authorFilter" id="authorFilterLabel">Author:</label>
            <input type="text" id="authorFilter" placeholder="Author name...">
          </div>
        </div>
        
        <div class="filter-row">
          <div class="filter-field">
            <label for="typeFilter" id="typeFilterLabel">Article Type:</label>
            <select id="typeFilter">
              <option value="">All Types</option>
            </select>
          </div>
          
          <div class="filter-field year-range">
            <label id="yearRangeLabel">Year Range:</label>
            <input type="number" id="startYearFilter" placeholder="From year" min="1900" max="2000">
            <span id="toLabel">to</span>
            <input type="number" id="endYearFilter" placeholder="To year" min="1900" max="2000">
            <div id="yearError" class="advanced-error">End year must be greater than or equal to start year</div>
          </div>
        </div>

        <div class="filter-row multi-search">
          <div class="filter-field">
            <h4 id="multiTermLabel">Multi-term Search:</h4>
            <div class="term-row">
              <input type="text" id="searchTerm1" placeholder="First term" class="term-input">
            </div>
            <div class="term-row">
              <select id="operator" class="operator-select">
                <option value="AND">AND</option>
                <option value="OR">OR</option>
              </select>
              <input type="text" id="searchTerm2" placeholder="Second term" class="term-input">
            </div>
            <div class="term-row">
              <select id="operator2" class="operator-select">
                <option value="AND">AND</option>
                <option value="OR">OR</option>
              </select>
              <input type="text" id="searchTerm3" placeholder="Third term (optional)" class="term-input">
            </div>
          </div>
        </div>
        
        <div class="search-button-container">
          <button id="advancedSearchButton" class="search-button">Search</button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="results-header">
    <div id="stats"></div>
    <div class="results-per-page">
      <label for="resultsPerPage" id="resultsPerPageLabel">Results per page:</label>
      <select id="resultsPerPage">
        <option value="100">100</option>
        <option value="200">200</option>
        <option value="400">400</option>
      </select>
    </div>
  </div>
  
  <div id="results"></div>
  <div id="pagination" class="pagination"></div>
  
  <div class="results-footer">
    <div class="results-per-page">
      <label for="resultsPerPageBottom" id="resultsPerPageLabelBottom">Results per page:</label>
      <select id="resultsPerPageBottom">
        <option value="100">100</option>
        <option value="200">200</option>
        <option value="400">400</option>
      </select>
    </div>
  </div>

  <!-- Load the required JavaScript files -->
  <!-- <script src="support/data.js"></script> -->

  <script src="support/lang.js"></script>
  <script src="support/utils.js"></script>
  <script src="support/search.js"></script>
  <script src="support/display.js"></script>
  <script src="support/perform-search.js"></script>
  <script src="support/main.js"></script>
  <script>
    // Update title and heading with magazine name from overview.js
    document.addEventListener('DOMContentLoaded', function() {
      // Update the page title
      document.title = SITE_INFO.title + ' Search';
      
      // Update the H1 heading
      document.querySelector('h1').textContent = SITE_INFO.title + ' Search';
    });
  </script>
</body>
</html>